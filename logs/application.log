2025-11-12T10:03:56.960+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:03:56.984+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:03:56.985+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:03:56.986+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:03:57.334+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:03:57.355+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:03:57.566+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:03:57.569+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:04:02.576+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:04:02.577+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:04:02.578+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:04:02.578+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:04:02.590+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:04:02.591+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:04:02.591+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:04:02.592+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:04:02.592+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:04:02.593+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:04:02.593+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:04:02.677+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:04:02.695+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:04:04.888+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:04:04.891+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:04:04.893+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:04:05.687+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:04:05.690+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:04:05.731+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2025-11-12T10:04:05.845+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:04:05.854+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:04:06.342+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:04:06.354+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:04:06.355+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:04:06.390+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:04:06.391+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1435 ms
2025-11-12T10:04:08.443+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:04:08.447+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:04:08.450+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:04:08.451+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:04:08.452+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:04:08.453+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:04:08.454+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:04:08.455+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:04:08.456+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:04:08.801+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:04:08.815+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:04:09.042+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:04:09.045+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:04:14.051+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:04:14.052+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:04:14.052+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:04:14.053+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:04:14.060+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:04:14.061+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:04:14.062+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:04:14.062+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:04:14.062+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:04:14.063+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:04:14.064+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:04:14.128+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:04:14.143+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:04:16.311+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:04:16.316+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:04:16.318+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:04:17.135+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:04:17.138+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:04:17.179+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2025-11-12T10:04:17.297+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:04:17.306+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:04:17.877+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:04:17.893+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:04:17.894+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:04:17.927+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:04:17.928+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1545 ms
2025-11-12T10:04:19.967+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:04:19.969+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:04:19.972+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:04:19.973+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:04:19.974+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:04:19.975+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:04:19.976+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:04:19.977+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:04:19.978+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:04:20.329+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:04:20.350+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:04:20.604+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:04:20.607+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:04:25.615+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:04:25.616+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:04:25.617+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:04:25.617+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:04:25.628+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:04:25.628+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:04:25.629+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:04:25.630+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:04:25.630+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:04:25.630+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:04:25.631+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:04:25.716+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:04:25.738+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:04:27.857+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:04:27.861+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:04:27.863+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:04:28.662+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:04:28.665+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:04:28.713+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 27 ms. Found 0 Redis repository interfaces.
2025-11-12T10:04:28.825+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:04:28.834+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:04:29.354+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:04:29.369+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:04:29.371+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:04:29.403+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:04:29.404+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1487 ms
2025-11-12T10:04:31.474+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:04:31.476+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:04:31.477+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:04:31.479+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:04:31.480+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:04:31.482+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:04:31.485+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:04:31.486+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:04:31.487+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:04:31.830+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:04:31.844+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:04:32.072+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:04:32.075+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:04:37.082+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:04:37.083+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:04:37.083+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:04:37.084+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:04:37.093+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:04:37.093+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:04:37.094+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:04:37.095+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:04:37.095+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:04:37.096+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:04:37.096+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:04:37.164+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:04:37.176+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:04:39.284+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:04:39.287+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:04:39.289+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:04:40.026+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:04:40.028+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:04:40.069+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2025-11-12T10:04:40.201+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:04:40.211+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:04:40.761+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:04:40.773+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:04:40.774+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:04:40.801+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:04:40.802+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1461 ms
2025-11-12T10:04:42.736+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:04:42.739+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:04:42.741+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:04:42.742+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:04:42.743+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:04:42.744+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:04:42.745+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:04:42.746+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:04:42.746+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:04:43.088+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:04:43.105+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:04:43.346+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:04:43.349+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:04:48.358+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:04:48.359+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:04:48.360+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:04:48.361+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:04:48.370+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:04:48.371+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:04:48.371+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:04:48.372+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:04:48.373+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:04:48.373+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:04:48.373+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:04:48.436+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:04:48.451+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:04:50.608+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:04:50.610+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:04:50.612+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:04:51.367+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:04:51.370+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:04:51.406+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2025-11-12T10:04:51.518+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:04:51.529+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:04:52.048+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:04:52.061+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:04:52.062+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:04:52.094+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:04:52.095+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1431 ms
2025-11-12T10:04:53.998+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:04:54.000+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:04:54.001+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:04:54.003+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:04:54.004+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:04:54.006+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:04:54.007+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:04:54.008+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:04:54.009+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:04:54.354+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:04:54.367+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:04:54.599+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:04:54.602+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:04:59.610+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:04:59.611+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:04:59.612+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:04:59.612+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:04:59.625+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:04:59.626+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:04:59.626+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:04:59.627+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:04:59.628+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:04:59.628+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:04:59.629+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:04:59.708+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:04:59.725+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:05:01.876+08:00  INFO 6 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 6 (/app/app.jar started by root in /app)
2025-11-12T10:05:01.879+08:00 DEBUG 6 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:05:01.881+08:00  INFO 6 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:05:02.741+08:00  INFO 6 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:05:02.744+08:00  INFO 6 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:05:02.784+08:00  INFO 6 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2025-11-12T10:05:02.915+08:00  INFO 6 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:05:02.925+08:00  INFO 6 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:05:03.471+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:05:03.487+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:05:03.488+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:05:03.519+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:05:03.520+08:00  INFO 6 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1577 ms
2025-11-12T10:05:05.494+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:05:05.496+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:05:05.498+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:05:05.499+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:05:05.500+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:05:05.502+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:05:05.504+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:05:05.505+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:05:05.506+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:05:05.851+08:00  INFO 6 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:05:05.866+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:05:06.104+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:05:06.106+08:00  INFO 6 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:05:11.113+08:00  INFO 6 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:05:11.114+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:05:11.114+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:05:11.115+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:05:11.123+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:05:11.123+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:05:11.124+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:05:11.125+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:05:11.125+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:05:11.126+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:05:11.126+08:00  WARN 6 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:05:11.189+08:00  INFO 6 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:05:11.205+08:00 ERROR 6 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:05:13.367+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:05:13.370+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:05:13.373+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:05:14.127+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:05:14.130+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:05:14.172+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
2025-11-12T10:05:14.286+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:05:14.298+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:05:14.792+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:05:14.803+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:05:14.805+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:05:14.834+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:05:14.835+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1402 ms
2025-11-12T10:05:17.018+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:05:17.020+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:05:17.022+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:05:17.024+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:05:17.025+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:05:17.026+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:05:17.028+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:05:17.029+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:05:17.030+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:05:17.381+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:05:17.396+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:05:17.664+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:05:17.668+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:05:22.675+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:05:22.676+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:05:22.677+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:05:22.677+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:05:22.687+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:05:22.688+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:05:22.689+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:05:22.690+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:05:22.691+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:05:22.691+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:05:22.692+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:05:22.776+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:05:22.790+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:05:24.890+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:05:24.893+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:05:24.894+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:05:25.656+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:05:25.664+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:05:25.703+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2025-11-12T10:05:25.820+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:05:25.829+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:05:26.408+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:05:26.426+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:05:26.428+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:05:26.475+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:05:26.476+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1525 ms
2025-11-12T10:05:28.947+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:05:28.949+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:05:28.950+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:05:28.952+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:05:28.953+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:05:28.953+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:05:28.954+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:05:28.955+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:05:28.956+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:05:29.310+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:05:29.324+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:05:29.606+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:05:29.609+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:05:34.616+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:05:34.616+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:05:34.617+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:05:34.617+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:05:34.625+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:05:34.626+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:05:34.626+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:05:34.627+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:05:34.627+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:05:34.627+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:05:34.628+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:05:34.694+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:05:34.711+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:05:36.920+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:05:36.923+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:05:36.925+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:05:37.751+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:05:37.755+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:05:37.794+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2025-11-12T10:05:37.896+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:05:37.905+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:05:38.450+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:05:38.462+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:05:38.463+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:05:38.499+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:05:38.500+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1511 ms
2025-11-12T10:05:40.657+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:05:40.659+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:05:40.660+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:05:40.662+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:05:40.663+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:05:40.664+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:05:40.665+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:05:40.666+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:05:40.668+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:05:41.021+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:05:41.035+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:05:41.281+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:05:41.284+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:05:46.289+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:05:46.290+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:05:46.291+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:05:46.292+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:05:46.302+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:05:46.303+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:05:46.304+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:05:46.304+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:05:46.305+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:05:46.305+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:05:46.306+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:05:46.379+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:05:46.395+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:05:48.478+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:05:48.480+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:05:48.482+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:05:49.261+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:05:49.264+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:05:49.304+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2025-11-12T10:05:49.429+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:05:49.438+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:05:49.967+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:05:49.981+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:05:49.983+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:05:50.016+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:05:50.017+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1480 ms
2025-11-12T10:05:51.977+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:05:51.980+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:05:51.982+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:05:51.984+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:05:51.984+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:05:51.985+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:05:51.985+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:05:51.986+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:05:51.986+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:05:52.335+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:05:52.349+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:05:52.604+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:05:52.607+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:05:57.615+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:05:57.616+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:05:57.617+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:05:57.617+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:05:57.627+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:05:57.628+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:05:57.628+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:05:57.629+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:05:57.629+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:05:57.630+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:05:57.630+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:05:57.739+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:05:57.763+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:06:00.148+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:06:00.152+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:06:00.154+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:06:01.023+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:06:01.026+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:06:01.060+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2025-11-12T10:06:01.162+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:06:01.171+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:06:01.726+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:06:01.744+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:06:01.745+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:06:01.781+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:06:01.782+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1561 ms
2025-11-12T10:06:04.140+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:06:04.141+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:06:04.142+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:06:04.144+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:06:04.145+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:06:04.146+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:06:04.147+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:06:04.148+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:06:04.149+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:06:04.502+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:06:04.518+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:06:04.774+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:06:04.776+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:06:09.782+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:06:09.783+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:06:09.784+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:06:09.785+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:06:09.795+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:06:09.796+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:06:09.797+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:06:09.797+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:06:09.798+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:06:09.798+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:06:09.800+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:06:09.890+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:06:09.911+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:06:12.058+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:06:12.061+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:06:12.063+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:06:12.880+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:06:12.883+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:06:12.933+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
2025-11-12T10:06:13.094+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:06:13.104+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:06:13.707+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:06:13.719+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:06:13.720+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:06:13.750+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:06:13.751+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1630 ms
2025-11-12T10:06:15.864+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:06:15.866+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:06:15.868+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:06:15.869+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:06:15.870+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:06:15.871+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:06:15.872+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:06:15.873+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:06:15.873+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:06:16.219+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:06:16.240+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:06:16.483+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:06:16.486+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:06:21.493+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:06:21.494+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:06:21.495+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:06:21.495+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:06:21.504+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:06:21.505+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:06:21.506+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:06:21.506+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:06:21.506+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:06:21.507+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:06:21.508+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:06:21.578+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:06:21.593+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:06:24.126+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:06:24.129+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:06:24.130+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:06:25.134+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:06:25.138+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:06:25.179+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2025-11-12T10:06:25.300+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:06:25.309+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:06:25.998+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:06:26.015+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:06:26.016+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:06:26.057+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:06:26.058+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1870 ms
2025-11-12T10:06:28.596+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:06:28.599+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:06:28.601+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:06:28.602+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:06:28.604+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:06:28.605+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:06:28.607+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:06:28.608+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:06:28.609+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:06:28.965+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:06:28.984+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:06:29.275+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:06:29.278+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:06:34.286+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:06:34.287+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:06:34.288+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:06:34.289+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:06:34.302+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:06:34.303+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:06:34.304+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:06:34.305+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:06:34.305+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:06:34.306+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:06:34.307+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:06:34.398+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:06:34.420+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:06:36.999+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:06:37.003+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:06:37.004+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:06:38.114+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:06:38.120+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:06:38.178+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 33 ms. Found 0 Redis repository interfaces.
2025-11-12T10:06:38.349+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:06:38.362+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:06:39.157+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:06:39.173+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:06:39.175+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:06:39.217+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:06:39.218+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2123 ms
2025-11-12T10:06:42.359+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:06:42.361+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:06:42.364+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:06:42.365+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:06:42.368+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:06:42.370+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:06:42.372+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:06:42.373+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:06:42.374+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:06:42.728+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:06:42.743+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:06:43.014+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:06:43.017+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:06:48.022+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:06:48.023+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:06:48.024+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:06:48.024+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:06:48.033+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:06:48.034+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:06:48.035+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:06:48.036+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:06:48.037+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:06:48.037+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:06:48.038+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:06:48.118+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:06:48.138+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:06:50.593+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:06:50.596+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:06:50.600+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:06:51.541+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:06:51.544+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:06:51.590+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2025-11-12T10:06:51.712+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:06:51.723+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:06:52.339+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:06:52.353+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:06:52.356+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:06:52.399+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:06:52.400+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1729 ms
2025-11-12T10:06:54.675+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:06:54.677+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:06:54.679+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:06:54.681+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:06:54.682+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:06:54.684+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:06:54.685+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:06:54.686+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:06:54.687+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:06:55.038+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:06:55.054+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:06:55.336+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:06:55.339+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:07:00.347+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:07:00.348+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:07:00.348+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:07:00.349+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:07:00.359+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:07:00.359+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:07:00.360+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:07:00.360+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:07:00.361+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:07:00.361+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:07:00.362+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:07:00.435+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:07:00.452+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:07:02.695+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:07:02.698+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:07:02.704+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:07:03.598+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:07:03.602+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:07:03.650+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
2025-11-12T10:07:03.800+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:07:03.811+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:07:04.399+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:07:04.416+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:07:04.417+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:07:04.458+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:07:04.461+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1695 ms
2025-11-12T10:07:06.810+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:07:06.812+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:07:06.814+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:07:06.815+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:07:06.816+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:07:06.818+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:07:06.819+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:07:06.821+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:07:06.822+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:07:07.176+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:07:07.191+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:07:07.458+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:07:07.461+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:07:12.468+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:07:12.469+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:07:12.470+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:07:12.470+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:07:12.480+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:07:12.481+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:07:12.481+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:07:12.482+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:07:12.482+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:07:12.483+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:07:12.483+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:07:12.549+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:07:12.562+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:07:14.844+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:07:14.851+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:07:14.853+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:07:15.697+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:07:15.700+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:07:15.742+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2025-11-12T10:07:15.872+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:07:15.881+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:07:16.449+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:07:16.464+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:07:16.465+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:07:16.502+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:07:16.503+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1595 ms
2025-11-12T10:07:18.862+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:07:18.864+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:07:18.866+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:07:18.867+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:07:18.868+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:07:18.869+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:07:18.870+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:07:18.871+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:07:18.872+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:07:19.240+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:07:19.258+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:07:19.520+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:07:19.523+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:07:24.530+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:07:24.531+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:07:24.531+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:07:24.532+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:07:24.541+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:07:24.542+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:07:24.543+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:07:24.543+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:07:24.544+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:07:24.544+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:07:24.545+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:07:24.624+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:07:24.640+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:07:26.784+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:07:26.787+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:07:26.789+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:07:27.614+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:07:27.617+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:07:27.658+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2025-11-12T10:07:27.784+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:07:27.794+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:07:28.388+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:07:28.404+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:07:28.405+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:07:28.440+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:07:28.442+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1589 ms
2025-11-12T10:07:30.712+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:07:30.715+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:07:30.717+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:07:30.720+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:07:30.721+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:07:30.723+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:07:30.724+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:07:30.725+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:07:30.726+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:07:31.077+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:07:31.093+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:07:31.333+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:07:31.336+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:07:36.344+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:07:36.346+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:07:36.347+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:07:36.347+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:07:36.361+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:07:36.362+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:07:36.363+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:07:36.364+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:07:36.364+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:07:36.365+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:07:36.366+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:07:36.473+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:07:36.504+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:07:38.857+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:07:38.862+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:07:38.865+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:07:39.927+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:07:39.931+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:07:39.977+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 27 ms. Found 0 Redis repository interfaces.
2025-11-12T10:07:40.106+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:07:40.119+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:07:40.828+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:07:40.844+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:07:40.846+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:07:40.888+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:07:40.889+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1944 ms
2025-11-12T10:07:43.841+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:07:43.843+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:07:43.845+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:07:43.847+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:07:43.849+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:07:43.851+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:07:43.854+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:07:43.855+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:07:43.855+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:07:44.210+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:07:44.227+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:07:44.492+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:07:44.495+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:07:49.505+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:07:49.506+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:07:49.507+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:07:49.507+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:07:49.517+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:07:49.518+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:07:49.519+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:07:49.520+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:07:49.520+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:07:49.520+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:07:49.521+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:07:49.612+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:07:49.629+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:07:51.933+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:07:51.936+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:07:51.938+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:07:52.905+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:07:52.908+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:07:52.951+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2025-11-12T10:07:53.094+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:07:53.105+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:07:53.718+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:07:53.735+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:07:53.737+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:07:53.789+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:07:53.790+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1776 ms
2025-11-12T10:07:56.402+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:07:56.404+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:07:56.407+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:07:56.409+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:07:56.411+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:07:56.411+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:07:56.412+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:07:56.413+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:07:56.414+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:07:56.775+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:07:56.794+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:07:57.047+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:07:57.050+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:08:02.057+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:08:02.059+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:08:02.061+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:08:02.062+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:08:02.078+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:08:02.079+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:08:02.080+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:08:02.081+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:08:02.081+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:08:02.082+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:08:02.083+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:08:02.156+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:08:02.172+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:08:04.492+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:08:04.495+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:08:04.497+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:08:05.475+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:08:05.479+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:08:05.523+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
2025-11-12T10:08:05.660+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:08:05.673+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:08:06.321+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:08:06.338+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:08:06.340+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:08:06.377+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:08:06.379+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1797 ms
2025-11-12T10:08:08.738+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:08:08.741+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:08:08.743+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:08:08.746+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:08:08.747+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:08:08.749+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:08:08.750+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:08:08.751+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:08:08.752+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:08:09.100+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:08:09.115+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:08:09.366+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:08:09.368+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:08:14.374+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:08:14.375+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:08:14.376+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:08:14.377+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:08:14.386+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:08:14.387+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:08:14.388+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:08:14.389+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:08:14.389+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:08:14.390+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:08:14.390+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:08:14.465+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:08:14.478+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:08:17.161+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:08:17.172+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:08:17.174+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:08:18.318+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:08:18.321+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:08:18.382+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 0 Redis repository interfaces.
2025-11-12T10:08:18.554+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:08:18.570+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:08:19.504+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:08:19.522+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:08:19.523+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:08:19.584+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:08:19.586+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2308 ms
2025-11-12T10:08:23.222+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:08:23.225+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:08:23.229+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:08:23.233+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:08:23.234+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:08:23.235+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:08:23.236+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:08:23.237+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:08:23.238+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:08:23.631+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:08:23.666+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:08:24.029+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:08:24.034+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:08:29.043+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:08:29.044+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:08:29.045+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:08:29.046+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:08:29.056+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:08:29.056+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:08:29.057+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:08:29.058+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:08:29.058+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:08:29.059+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:08:29.059+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:08:29.137+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:08:29.156+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:08:31.359+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:08:31.362+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:08:31.364+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:08:32.333+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:08:32.337+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:08:32.383+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
2025-11-12T10:08:32.532+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:08:32.544+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:08:33.260+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:08:33.282+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:08:33.284+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:08:33.320+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:08:33.321+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1899 ms
2025-11-12T10:08:36.423+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:08:36.426+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:08:36.428+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:08:36.430+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:08:36.431+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:08:36.435+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:08:36.438+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:08:36.443+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:08:36.445+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:08:36.812+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:08:36.832+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:08:37.088+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:08:37.090+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:08:42.097+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:08:42.099+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:08:42.100+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:08:42.101+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:08:42.110+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:08:42.111+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:08:42.112+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:08:42.113+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:08:42.113+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:08:42.114+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:08:42.114+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:08:42.188+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:08:42.204+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:08:44.493+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:08:44.495+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:08:44.497+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:08:45.393+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:08:45.396+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:08:45.440+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
2025-11-12T10:08:45.573+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:08:45.584+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:08:46.161+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:08:46.179+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:08:46.186+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:08:46.231+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:08:46.233+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1672 ms
2025-11-12T10:08:49.779+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:08:49.781+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:08:49.783+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:08:49.785+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:08:49.787+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:08:49.791+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:08:49.794+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:08:49.796+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:08:49.798+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:08:50.185+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:08:50.201+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:08:50.564+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:08:50.567+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:08:55.576+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:08:55.577+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:08:55.578+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:08:55.578+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:08:55.589+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:08:55.590+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:08:55.590+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:08:55.591+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:08:55.591+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:08:55.591+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:08:55.592+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:08:55.674+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:08:55.692+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:08:57.914+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:08:57.922+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:08:57.923+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:08:58.921+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:08:58.924+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:08:58.991+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 0 Redis repository interfaces.
2025-11-12T10:08:59.183+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:08:59.196+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:09:00.037+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:09:00.064+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:09:00.068+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:09:00.132+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:09:00.138+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2143 ms
2025-11-12T10:09:04.465+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:09:04.468+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:09:04.473+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:09:04.476+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:09:04.478+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:09:04.480+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:09:04.482+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:09:04.484+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:09:04.485+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:09:04.869+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:09:04.890+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:09:05.337+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:09:05.341+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:09:10.350+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:09:10.351+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:09:10.351+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:09:10.352+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:09:10.364+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:09:10.365+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:09:10.365+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:09:10.367+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:09:10.367+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:09:10.368+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:09:10.369+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:09:10.451+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:09:10.472+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:09:12.894+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:09:12.900+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:09:12.903+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:09:14.156+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:09:14.159+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:09:14.214+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32 ms. Found 0 Redis repository interfaces.
2025-11-12T10:09:14.375+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:09:14.388+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:09:15.151+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:09:15.168+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:09:15.169+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:09:15.218+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:09:15.220+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2237 ms
2025-11-12T10:09:19.107+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:09:19.112+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:09:19.116+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:09:19.122+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:09:19.123+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:09:19.126+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:09:19.129+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:09:19.131+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:09:19.136+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:09:19.509+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:09:19.530+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:09:19.819+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:09:19.822+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:09:24.830+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:09:24.831+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:09:24.832+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:09:24.833+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:09:24.843+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:09:24.844+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:09:24.844+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:09:24.845+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:09:24.845+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:09:24.846+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:09:24.846+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:09:24.926+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:09:24.942+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:09:27.289+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:09:27.292+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:09:27.295+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:09:28.636+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:09:28.640+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:09:28.695+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 34 ms. Found 0 Redis repository interfaces.
2025-11-12T10:09:28.853+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:09:28.867+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:09:29.672+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:09:29.692+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:09:29.694+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:09:29.745+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:09:29.747+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2350 ms
2025-11-12T10:09:33.250+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:09:33.253+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:09:33.255+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:09:33.257+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:09:33.258+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:09:33.259+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:09:33.260+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:09:33.261+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:09:33.262+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:09:33.640+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:09:33.663+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:09:33.974+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:09:33.978+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:09:38.987+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:09:38.988+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:09:38.989+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:09:38.989+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:09:38.999+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:09:39.000+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:09:39.001+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:09:39.001+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:09:39.002+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:09:39.002+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:09:39.003+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:09:39.083+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:09:39.097+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:09:41.355+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:09:41.358+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:09:41.361+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:09:42.578+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:09:42.583+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:09:42.639+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 35 ms. Found 0 Redis repository interfaces.
2025-11-12T10:09:42.813+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:09:42.826+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:09:43.513+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:09:43.534+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:09:43.537+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:09:43.585+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:09:43.587+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2150 ms
2025-11-12T10:09:47.080+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:09:47.082+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:09:47.086+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:09:47.087+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:09:47.088+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:09:47.089+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:09:47.091+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:09:47.093+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:09:47.094+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:09:47.468+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:09:47.486+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:09:47.819+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:09:47.823+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:09:52.831+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:09:52.832+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:09:52.833+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:09:52.833+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:09:52.841+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:09:52.842+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:09:52.842+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:09:52.843+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:09:52.843+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:09:52.844+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:09:52.844+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:09:52.911+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:09:52.926+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:09:55.339+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:09:55.343+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:09:55.345+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:09:56.805+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:09:56.810+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:09:56.871+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 35 ms. Found 0 Redis repository interfaces.
2025-11-12T10:09:57.054+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:09:57.068+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:09:57.836+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:09:57.854+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:09:57.855+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:09:57.907+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:09:57.909+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2473 ms
2025-11-12T10:10:02.346+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:10:02.347+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:10:02.349+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:10:02.351+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:10:02.354+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:10:02.357+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:10:02.359+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:10:02.361+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:10:02.363+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:10:02.741+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:10:02.762+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:10:03.128+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:10:03.131+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:10:08.140+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:10:08.141+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:10:08.142+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:10:08.143+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:10:08.156+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:10:08.157+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:10:08.157+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:10:08.158+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:10:08.159+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:10:08.159+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:10:08.160+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:10:08.310+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:10:08.329+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:10:11.230+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:10:11.233+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:10:11.235+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:10:12.698+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:10:12.704+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:10:12.765+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 35 ms. Found 0 Redis repository interfaces.
2025-11-12T10:10:12.944+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:10:12.957+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:10:13.745+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:10:13.765+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:10:13.767+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:10:13.819+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:10:13.825+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2496 ms
2025-11-12T10:10:17.389+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:10:17.391+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:10:17.393+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:10:17.395+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:10:17.397+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:10:17.399+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:10:17.402+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:10:17.404+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:10:17.405+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:10:17.767+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:10:17.785+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:10:18.106+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:10:18.108+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:10:23.116+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:10:23.117+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:10:23.118+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:10:23.118+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:10:23.130+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:10:23.131+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:10:23.131+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:10:23.132+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:10:23.132+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:10:23.133+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:10:23.133+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:10:23.209+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:10:23.227+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:10:25.671+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:10:25.678+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:10:25.680+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:10:27.163+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:10:27.172+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:10:27.231+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 0 Redis repository interfaces.
2025-11-12T10:10:27.435+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:10:27.452+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:10:28.420+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:10:28.438+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:10:28.444+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:10:28.494+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:10:28.496+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2725 ms
2025-11-12T10:10:32.833+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:10:32.837+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:10:32.840+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:10:32.842+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:10:32.843+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:10:32.844+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:10:32.845+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:10:32.846+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:10:32.847+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:10:33.220+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:10:33.238+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:10:33.546+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:10:33.549+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:10:38.558+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:10:38.559+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:10:38.560+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:10:38.560+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:10:38.573+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:10:38.574+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:10:38.574+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:10:38.575+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:10:38.575+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:10:38.576+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:10:38.576+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:10:38.642+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:10:38.659+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:10:40.900+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:10:40.903+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:10:40.905+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:10:42.311+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:10:42.315+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:10:42.389+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 40 ms. Found 0 Redis repository interfaces.
2025-11-12T10:10:42.567+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:10:42.581+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:10:43.366+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:10:43.384+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:10:43.386+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:10:43.437+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:10:43.439+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2451 ms
2025-11-12T10:10:47.240+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:10:47.244+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:10:47.247+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:10:47.253+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:10:47.255+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:10:47.257+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:10:47.258+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:10:47.259+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:10:47.260+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:10:47.625+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:10:47.644+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:10:48.006+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:10:48.010+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:10:53.019+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:10:53.020+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:10:53.021+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:10:53.022+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:10:53.032+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:10:53.033+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:10:53.033+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:10:53.034+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:10:53.035+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:10:53.036+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:10:53.037+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:10:53.115+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:10:53.129+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:10:55.547+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:10:55.550+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:10:55.555+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:10:57.008+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:10:57.011+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:10:57.080+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44 ms. Found 0 Redis repository interfaces.
2025-11-12T10:10:57.276+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:10:57.289+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:10:58.107+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:10:58.125+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:10:58.127+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:10:58.181+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:10:58.184+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2525 ms
2025-11-12T10:11:01.685+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:11:01.687+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:11:01.691+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:11:01.693+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:11:01.695+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:11:01.697+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:11:01.698+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:11:01.699+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:11:01.700+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:11:02.073+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:11:02.094+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:11:02.399+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:11:02.403+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:11:07.411+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:11:07.412+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:11:07.412+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:11:07.413+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:11:07.425+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:11:07.426+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:11:07.426+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:11:07.427+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:11:07.428+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:11:07.428+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:11:07.429+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:11:07.517+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:11:07.535+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:11:09.886+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:11:09.889+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:11:09.892+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:11:11.127+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:11:11.131+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:11:11.191+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 33 ms. Found 0 Redis repository interfaces.
2025-11-12T10:11:11.368+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:11:11.382+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:11:12.134+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:11:12.153+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:11:12.155+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:11:12.202+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:11:12.204+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2219 ms
2025-11-12T10:11:15.255+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:11:15.256+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:11:15.257+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:11:15.259+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:11:15.259+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:11:15.260+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:11:15.261+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:11:15.262+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:11:15.263+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:11:15.604+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:11:15.620+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:11:15.889+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:11:15.892+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:11:20.899+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:11:20.900+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:11:20.901+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:11:20.901+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:11:20.912+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:11:20.913+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:11:20.914+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:11:20.915+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:11:20.915+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:11:20.916+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:11:20.917+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:11:20.995+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:11:21.013+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:11:23.201+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:11:23.204+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:11:23.206+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:11:23.969+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:11:23.972+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:11:24.011+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2025-11-12T10:11:24.116+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:11:24.126+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:11:24.624+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:11:24.636+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:11:24.638+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:11:24.667+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:11:24.668+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1410 ms
2025-11-12T10:11:26.763+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:11:26.764+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:11:26.766+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:11:26.768+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:11:26.769+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:11:26.770+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:11:26.771+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:11:26.772+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:11:26.773+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:11:27.127+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:11:27.140+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:11:27.370+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:11:27.373+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:11:32.379+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:11:32.380+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:11:32.381+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:11:32.381+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:11:32.391+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:11:32.392+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:11:32.392+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:11:32.393+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:11:32.394+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:11:32.395+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:11:32.396+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:11:32.468+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:11:32.482+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:11:34.818+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:11:34.820+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:11:34.822+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:11:36.025+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:11:36.035+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:11:36.085+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
2025-11-12T10:11:36.243+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:11:36.252+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:11:36.941+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:11:36.958+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:11:36.962+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:11:37.010+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:11:37.011+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2118 ms
2025-11-12T10:11:39.585+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:11:39.588+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:11:39.590+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:11:39.591+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:11:39.591+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:11:39.592+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:11:39.593+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:11:39.595+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:11:39.597+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:11:39.957+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:11:39.975+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:11:40.224+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:11:40.227+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:11:45.234+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:11:45.235+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:11:45.235+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:11:45.236+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:11:45.245+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:11:45.246+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:11:45.246+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:11:45.247+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:11:45.247+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:11:45.248+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:11:45.248+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:11:45.324+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:11:45.338+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:11:47.665+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:11:47.668+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:11:47.672+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:11:48.733+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:11:48.736+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:11:48.777+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2025-11-12T10:11:48.901+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:11:48.911+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:11:49.566+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:11:49.579+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:11:49.581+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:11:49.618+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:11:49.619+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1886 ms
2025-11-12T10:11:51.933+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:11:51.935+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:11:51.937+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:11:51.939+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:11:51.940+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:11:51.940+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:11:51.941+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:11:51.941+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:11:51.942+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:11:52.284+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:11:52.301+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:11:52.533+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:11:52.537+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:11:57.543+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:11:57.544+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:11:57.544+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:11:57.545+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:11:57.557+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:11:57.558+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:11:57.558+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:11:57.558+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:11:57.559+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:11:57.560+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:11:57.560+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:11:57.628+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:11:57.642+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:11:59.905+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:11:59.909+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:11:59.911+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:12:00.780+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:12:00.784+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:12:00.828+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2025-11-12T10:12:00.970+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:12:00.981+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:12:01.600+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:12:01.615+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:12:01.616+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:12:01.657+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:12:01.661+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1676 ms
2025-11-12T10:12:04.012+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:12:04.014+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:12:04.017+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:12:04.019+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:12:04.021+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:12:04.021+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:12:04.022+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:12:04.023+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:12:04.024+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:12:04.376+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:12:04.402+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:12:04.681+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:12:04.686+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:12:09.693+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:12:09.694+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:12:09.695+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:12:09.695+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:12:09.705+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:12:09.706+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:12:09.706+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:12:09.707+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:12:09.707+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:12:09.708+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:12:09.709+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:12:09.785+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:12:09.800+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:12:12.292+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:12:12.296+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:12:12.299+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:12:13.330+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:12:13.334+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:12:13.386+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
2025-11-12T10:12:13.532+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:12:13.544+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:12:14.191+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:12:14.206+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:12:14.208+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:12:14.242+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:12:14.244+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1856 ms
2025-11-12T10:12:17.115+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:12:17.116+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:12:17.118+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:12:17.119+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:12:17.120+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:12:17.121+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:12:17.121+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:12:17.122+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:12:17.123+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:12:17.480+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:12:17.496+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:12:17.746+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:12:17.749+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:12:22.757+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:12:22.758+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:12:22.759+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:12:22.760+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:12:22.770+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:12:22.771+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:12:22.771+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:12:22.772+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:12:22.773+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:12:22.773+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:12:22.774+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:12:22.845+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:12:22.858+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:12:25.237+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:12:25.241+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:12:25.243+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:12:26.277+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:12:26.280+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:12:26.338+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 35 ms. Found 0 Redis repository interfaces.
2025-11-12T10:12:26.475+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:12:26.491+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:12:27.099+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:12:27.111+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:12:27.113+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:12:27.146+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:12:27.148+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1848 ms
2025-11-12T10:12:29.542+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:12:29.544+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:12:29.546+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:12:29.548+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:12:29.550+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:12:29.552+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:12:29.553+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:12:29.554+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:12:29.554+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:12:29.899+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:12:29.913+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:12:30.150+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:12:30.153+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:12:35.160+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:12:35.161+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:12:35.162+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:12:35.162+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:12:35.173+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:12:35.174+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:12:35.174+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:12:35.175+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:12:35.175+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:12:35.176+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:12:35.176+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:12:35.262+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:12:35.282+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:12:37.552+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:12:37.554+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:12:37.556+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:12:38.456+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:12:38.459+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:12:38.494+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2025-11-12T10:12:38.605+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:12:38.614+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:12:39.255+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:12:39.270+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:12:39.272+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:12:39.308+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:12:39.309+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1685 ms
2025-11-12T10:12:42.093+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:12:42.095+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:12:42.102+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:12:42.104+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:12:42.105+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:12:42.106+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:12:42.108+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:12:42.109+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:12:42.109+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:12:42.464+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:12:42.476+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:12:42.712+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:12:42.715+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:12:47.720+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:12:47.721+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:12:47.722+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:12:47.723+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:12:47.733+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:12:47.734+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:12:47.734+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:12:47.735+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:12:47.736+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:12:47.736+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:12:47.737+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:12:47.814+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:12:47.830+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:12:50.290+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:12:50.293+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:12:50.295+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:12:51.329+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:12:51.332+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:12:51.381+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 30 ms. Found 0 Redis repository interfaces.
2025-11-12T10:12:51.514+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:12:51.524+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:12:52.230+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:12:52.246+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:12:52.248+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:12:52.286+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:12:52.287+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1934 ms
2025-11-12T10:12:55.770+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:12:55.772+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:12:55.775+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:12:55.776+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:12:55.777+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:12:55.778+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:12:55.779+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:12:55.780+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:12:55.781+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:12:56.125+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:12:56.143+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:12:56.425+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:12:56.429+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:13:01.437+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:13:01.438+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:13:01.438+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:13:01.439+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:13:01.449+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:13:01.450+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:13:01.451+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:13:01.452+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:13:01.452+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:13:01.453+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:13:01.454+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:13:01.548+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:13:01.566+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:13:03.865+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:13:03.870+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:13:03.872+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:13:04.742+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:13:04.746+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:13:04.786+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2025-11-12T10:13:04.910+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:13:04.921+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:13:05.522+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:13:05.537+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:13:05.539+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:13:05.578+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:13:05.580+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1647 ms
2025-11-12T10:13:07.960+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:13:07.962+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:13:07.964+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:13:07.966+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:13:07.967+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:13:07.968+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:13:07.969+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:13:07.970+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:13:07.971+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:13:08.315+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:13:08.330+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:13:08.616+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:13:08.619+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:13:13.625+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:13:13.626+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:13:13.627+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:13:13.627+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:13:13.636+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:13:13.637+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:13:13.638+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:13:13.638+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:13:13.639+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:13:13.640+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:13:13.640+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:13:13.711+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:13:13.727+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:13:15.903+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:13:15.906+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:13:15.908+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:13:16.733+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:13:16.737+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:13:16.783+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2025-11-12T10:13:16.911+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:13:16.924+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:13:17.582+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:13:17.604+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:13:17.605+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:13:17.645+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:13:17.646+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1685 ms
2025-11-12T10:13:20.114+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:13:20.117+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:13:20.119+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:13:20.120+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:13:20.121+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:13:20.123+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:13:20.124+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:13:20.125+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:13:20.126+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:13:20.478+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:13:20.492+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:13:20.733+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:13:20.736+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:13:25.743+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:13:25.744+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:13:25.745+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:13:25.745+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:13:25.757+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:13:25.758+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:13:25.759+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:13:25.760+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:13:25.761+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:13:25.762+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:13:25.763+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:13:25.950+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:13:25.982+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:13:28.424+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:13:28.433+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:13:28.437+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:13:30.050+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:13:30.055+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:13:30.130+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 0 Redis repository interfaces.
2025-11-12T10:13:30.351+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:13:30.367+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:13:31.075+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:13:31.092+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:13:31.098+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:13:31.145+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:13:31.146+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2628 ms
2025-11-12T10:13:33.712+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:13:33.719+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:13:33.720+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:13:33.722+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:13:33.722+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:13:33.723+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:13:33.724+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:13:33.725+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:13:33.727+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:13:34.084+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:13:34.099+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:13:34.337+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:13:34.340+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:13:39.346+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:13:39.347+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:13:39.348+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:13:39.349+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:13:39.356+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:13:39.357+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:13:39.358+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:13:39.358+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:13:39.359+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:13:39.359+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:13:39.360+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:13:39.431+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:13:39.452+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:13:41.592+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:13:41.595+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:13:41.597+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:13:42.434+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:13:42.438+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:13:42.478+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2025-11-12T10:13:42.595+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:13:42.605+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:13:43.162+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:13:43.176+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:13:43.177+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:13:43.217+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:13:43.219+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1563 ms
2025-11-12T10:13:46.261+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:13:46.263+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:13:46.264+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:13:46.266+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:13:46.267+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:13:46.269+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:13:46.271+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:13:46.273+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:13:46.275+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:13:46.652+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:13:46.675+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:13:46.964+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:13:46.967+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:13:51.975+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:13:51.976+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:13:51.976+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:13:51.977+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:13:51.988+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:13:51.989+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:13:51.989+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:13:51.990+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:13:51.991+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:13:51.991+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:13:51.992+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:13:52.059+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:13:52.071+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:13:54.308+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:13:54.312+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:13:54.314+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:13:55.308+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:13:55.311+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:13:55.350+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2025-11-12T10:13:55.469+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:13:55.479+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:13:56.029+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:13:56.043+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:13:56.044+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:13:56.081+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:13:56.084+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1715 ms
2025-11-12T10:13:58.625+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:13:58.627+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:13:58.629+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:13:58.630+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:13:58.632+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:13:58.633+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:13:58.635+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:13:58.636+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:13:58.637+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:13:58.978+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:13:58.994+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:13:59.242+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:13:59.244+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:14:04.252+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:14:04.253+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:14:04.254+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:14:04.254+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:14:04.264+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:14:04.265+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:14:04.265+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:14:04.266+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:14:04.267+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:14:04.267+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:14:04.268+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:14:04.371+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:14:04.411+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:14:06.644+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:14:06.648+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:14:06.650+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:14:07.497+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:14:07.500+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:14:07.542+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2025-11-12T10:14:07.673+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:14:07.682+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:14:08.270+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:14:08.287+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:14:08.289+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:14:08.324+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:14:08.325+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1612 ms
2025-11-12T10:14:11.220+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:14:11.222+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:14:11.224+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:14:11.226+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:14:11.227+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:14:11.227+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:14:11.228+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:14:11.229+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:14:11.230+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:14:11.580+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:14:11.594+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:14:11.831+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:14:11.833+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:14:16.838+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:14:16.839+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:14:16.840+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:14:16.840+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:14:16.851+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:14:16.852+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:14:16.852+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:14:16.853+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:14:16.854+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:14:16.854+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:14:16.855+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:14:16.927+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:14:16.943+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:14:25.065+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:14:25.070+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:14:25.073+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:14:26.087+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:14:26.091+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:14:26.135+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2025-11-12T10:14:26.281+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:14:26.290+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:14:26.966+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:14:26.990+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:14:26.995+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:14:27.045+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:14:27.047+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1904 ms
2025-11-12T10:14:29.378+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:14:29.381+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:14:29.383+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:14:29.384+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:14:29.385+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:14:29.386+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:14:29.387+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:14:29.388+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:14:29.389+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:14:29.744+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:14:29.771+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:14:30.041+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:14:30.044+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:14:35.051+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:14:35.052+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:14:35.052+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:14:35.053+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:14:35.062+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:14:35.063+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:14:35.064+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:14:35.064+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:14:35.065+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:14:35.065+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:14:35.066+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:14:35.147+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:14:35.164+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:14:37.546+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:14:37.549+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:14:37.551+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:14:38.409+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:14:38.412+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:14:38.451+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2025-11-12T10:14:38.562+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:14:38.572+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:14:39.070+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:14:39.081+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:14:39.082+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:14:39.117+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:14:39.118+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1503 ms
2025-11-12T10:14:41.239+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:14:41.241+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:14:41.243+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:14:41.245+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:14:41.247+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:14:41.248+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:14:41.249+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:14:41.250+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:14:41.251+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:14:41.601+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:14:41.616+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:14:41.829+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:14:41.831+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:14:46.836+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:14:46.837+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:14:46.837+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:14:46.838+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:14:46.846+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:14:46.847+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:14:46.848+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:14:46.848+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:14:46.849+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:14:46.849+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:14:46.850+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:14:46.928+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:14:46.943+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:14:49.349+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:14:49.351+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:14:49.353+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:14:50.103+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:14:50.105+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:14:50.143+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2025-11-12T10:14:50.246+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:14:50.255+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:14:50.838+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:14:50.852+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:14:50.854+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:14:50.890+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:14:50.891+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1478 ms
2025-11-12T10:14:53.025+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:14:53.027+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:14:53.033+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:14:53.035+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:14:53.036+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:14:53.037+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:14:53.038+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:14:53.039+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:14:53.040+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:14:53.402+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:14:53.421+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:14:53.686+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:14:53.689+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:14:58.698+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:14:58.699+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:14:58.699+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:14:58.700+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:14:58.709+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:14:58.710+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:14:58.711+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:14:58.712+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:14:58.712+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:14:58.713+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:14:58.714+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:14:58.797+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:14:58.817+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:15:01.138+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:15:01.141+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:15:01.143+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:15:01.896+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:15:01.899+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:15:01.935+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2025-11-12T10:15:02.060+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:15:02.069+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:15:02.601+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:15:02.616+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:15:02.618+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:15:02.657+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:15:02.658+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1462 ms
2025-11-12T10:15:05.194+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:15:05.195+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:15:05.199+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:15:05.200+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:15:05.201+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:15:05.201+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:15:05.202+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:15:05.202+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:15:05.203+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:15:05.542+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:15:05.554+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:15:05.788+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:15:05.791+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:15:10.797+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:15:10.798+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:15:10.799+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:15:10.800+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:15:10.815+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:15:10.816+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:15:10.816+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:15:10.817+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:15:10.818+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:15:10.818+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:15:10.818+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:15:10.917+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:15:10.936+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:15:13.681+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:15:13.684+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:15:13.686+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:15:14.954+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:15:14.957+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:15:15.014+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
2025-11-12T10:15:15.189+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:15:15.199+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:15:15.849+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:15:15.864+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:15:15.865+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:15:15.908+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:15:15.909+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2128 ms
2025-11-12T10:15:18.414+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:15:18.415+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:15:18.416+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:15:18.418+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:15:18.418+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:15:18.419+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:15:18.419+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:15:18.420+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:15:18.422+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:15:18.774+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:15:18.792+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:15:19.083+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:15:19.085+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:15:24.092+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:15:24.093+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:15:24.093+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:15:24.094+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:15:24.103+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:15:24.103+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:15:24.104+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:15:24.104+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:15:24.104+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:15:24.105+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:15:24.105+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:15:24.178+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:15:24.192+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:15:26.541+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:15:26.546+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:15:26.548+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:15:27.405+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:15:27.408+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:15:27.451+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2025-11-12T10:15:27.593+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:15:27.603+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:15:28.247+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:15:28.264+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:15:28.266+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:15:28.302+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:15:28.304+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1695 ms
2025-11-12T10:15:30.802+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:15:30.804+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:15:30.807+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:15:30.808+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:15:30.810+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:15:30.812+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:15:30.814+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:15:30.815+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:15:30.816+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:15:31.185+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:15:31.198+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:15:31.595+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:15:31.599+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:15:36.609+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:15:36.610+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:15:36.611+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:15:36.612+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:15:36.624+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:15:36.625+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:15:36.626+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:15:36.627+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:15:36.627+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:15:36.627+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:15:36.628+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:15:36.716+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:15:36.736+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:15:39.202+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:15:39.206+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:15:39.207+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:15:40.514+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:15:40.517+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:15:40.580+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 0 Redis repository interfaces.
2025-11-12T10:15:40.762+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:15:40.775+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:15:41.564+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:15:41.583+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:15:41.584+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:15:41.631+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:15:41.632+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2352 ms
2025-11-12T10:15:44.718+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:15:44.721+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:15:44.724+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:15:44.727+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:15:44.729+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:15:44.730+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:15:44.732+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:15:44.732+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:15:44.733+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:15:45.101+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:15:45.120+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:15:45.398+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:15:45.401+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:15:50.408+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:15:50.409+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:15:50.410+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:15:50.410+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:15:50.420+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:15:50.421+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:15:50.424+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:15:50.425+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:15:50.425+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:15:50.426+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:15:50.426+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:15:50.494+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:15:50.508+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:15:52.984+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:15:52.989+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:15:52.991+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:15:53.864+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:15:53.866+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:15:53.905+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2025-11-12T10:15:54.025+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:15:54.035+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:15:54.608+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:15:54.625+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:15:54.626+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:15:54.660+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:15:54.662+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1603 ms
2025-11-12T10:15:57.278+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:15:57.280+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:15:57.282+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:15:57.284+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:15:57.286+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:15:57.287+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:15:57.289+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:15:57.290+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:15:57.291+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:15:57.646+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:15:57.660+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:15:57.910+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:15:57.912+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:16:02.920+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:16:02.921+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:16:02.922+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:16:02.923+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:16:02.933+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:16:02.935+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:16:02.935+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:16:02.936+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:16:02.937+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:16:02.937+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:16:02.938+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:16:03.035+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:16:03.057+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:16:05.572+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:16:05.575+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:16:05.576+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:16:06.541+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:16:06.545+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:16:06.590+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2025-11-12T10:16:06.739+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:16:06.750+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:16:07.439+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:16:07.457+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:16:07.458+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:16:07.495+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:16:07.497+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1830 ms
2025-11-12T10:16:09.849+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:16:09.851+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:16:09.853+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:16:09.856+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:16:09.857+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:16:09.858+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:16:09.858+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:16:09.859+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:16:09.860+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:16:10.208+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:16:10.224+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:16:10.514+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:16:10.516+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:16:15.523+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:16:15.524+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:16:15.525+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:16:15.525+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:16:15.535+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:16:15.536+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:16:15.537+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:16:15.538+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:16:15.539+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:16:15.540+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:16:15.540+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:16:15.626+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:16:15.650+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:16:18.063+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:16:18.068+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:16:18.071+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:16:19.167+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:16:19.170+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:16:19.214+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2025-11-12T10:16:19.380+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:16:19.392+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:16:20.474+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:16:20.492+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:16:20.494+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:16:20.538+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:16:20.539+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2401 ms
2025-11-12T10:16:23.435+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:16:23.437+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:16:23.438+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:16:23.440+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:16:23.441+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:16:23.442+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:16:23.443+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:16:23.444+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:16:23.446+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:16:23.805+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:16:23.819+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:16:24.089+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:16:24.092+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:16:29.100+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:16:29.101+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:16:29.102+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:16:29.102+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:16:29.112+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:16:29.113+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:16:29.114+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:16:29.114+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:16:29.115+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:16:29.115+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:16:29.116+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:16:29.194+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:16:29.211+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:16:31.890+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:16:31.896+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:16:31.897+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:16:32.861+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:16:32.864+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:16:32.909+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
2025-11-12T10:16:33.052+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:16:33.062+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:16:33.731+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:16:33.749+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:16:33.750+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:16:33.787+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:16:33.789+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1820 ms
2025-11-12T10:16:36.732+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:16:36.734+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:16:36.736+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:16:36.737+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:16:36.739+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:16:36.741+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:16:36.742+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:16:36.744+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:16:36.745+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:16:37.115+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:16:37.134+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:16:37.450+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:16:37.453+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:16:42.461+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:16:42.462+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:16:42.463+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:16:42.463+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:16:42.472+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:16:42.473+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:16:42.474+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:16:42.475+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:16:42.475+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:16:42.475+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:16:42.476+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:16:42.556+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:16:42.571+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:16:45.086+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:16:45.090+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:16:45.093+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:16:46.163+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:16:46.167+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:16:46.217+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
2025-11-12T10:16:46.361+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:16:46.373+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:16:47.074+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:16:47.091+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:16:47.093+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:16:47.129+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:16:47.131+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1962 ms
2025-11-12T10:16:51.095+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:16:51.111+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:16:51.114+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:16:51.116+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:16:51.118+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:16:51.120+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:16:51.121+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:16:51.123+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:16:51.137+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:16:51.562+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:16:51.600+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:16:52.013+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:16:52.019+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:16:57.027+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:16:57.028+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:16:57.029+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:16:57.030+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:16:57.044+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:16:57.045+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:16:57.046+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:16:57.047+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:16:57.048+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:16:57.048+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:16:57.049+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:16:57.134+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:16:57.153+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:16:59.636+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:16:59.639+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:16:59.647+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:17:00.535+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:17:00.539+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:17:00.589+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
2025-11-12T10:17:00.721+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:17:00.732+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:17:01.331+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:17:01.347+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:17:01.349+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:17:01.395+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:17:01.396+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1689 ms
2025-11-12T10:17:04.642+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:17:04.643+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:17:04.646+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:17:04.647+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:17:04.650+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:17:04.652+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:17:04.653+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:17:04.656+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:17:04.658+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:17:05.033+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:17:05.047+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:17:05.294+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:17:05.297+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:17:10.305+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:17:10.307+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:17:10.309+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:17:10.310+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:17:10.335+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:17:10.338+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:17:10.339+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:17:10.341+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:17:10.342+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:17:10.342+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:17:10.343+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:17:10.421+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:17:10.434+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:17:12.794+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:17:12.796+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:17:12.798+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:17:13.629+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:17:13.632+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:17:13.673+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2025-11-12T10:17:13.806+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:17:13.815+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:17:14.360+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:17:14.375+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:17:14.376+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:17:14.417+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:17:14.418+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1558 ms
2025-11-12T10:17:17.003+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:17:17.006+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:17:17.010+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:17:17.012+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:17:17.014+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:17:17.015+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:17:17.016+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:17:17.017+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:17:17.018+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:17:17.393+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:17:17.414+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:17:17.783+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:17:17.786+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:17:22.794+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:17:22.795+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:17:22.796+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:17:22.797+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:17:22.807+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:17:22.808+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:17:22.809+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:17:22.810+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:17:22.810+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:17:22.811+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:17:22.812+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:17:22.889+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:17:22.904+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:17:25.305+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:17:25.307+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:17:25.313+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:17:26.307+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:17:26.312+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:17:26.371+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 34 ms. Found 0 Redis repository interfaces.
2025-11-12T10:17:26.547+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:17:26.561+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:17:27.272+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:17:27.287+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:17:27.288+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:17:27.321+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:17:27.322+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1955 ms
2025-11-12T10:17:30.700+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:17:30.702+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:17:30.703+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:17:30.705+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:17:30.706+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:17:30.707+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:17:30.708+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:17:30.710+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:17:30.711+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:17:31.063+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:17:31.080+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:17:31.365+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:17:31.367+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:17:36.374+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:17:36.375+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:17:36.376+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:17:36.376+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:17:36.386+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:17:36.387+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:17:36.388+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:17:36.389+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:17:36.389+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:17:36.390+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:17:36.390+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:17:36.471+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:17:36.492+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:17:38.889+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:17:38.893+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:17:38.896+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:17:40.468+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:17:40.479+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:17:40.576+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 56 ms. Found 0 Redis repository interfaces.
2025-11-12T10:17:40.934+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:17:40.973+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:17:42.403+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:17:42.421+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:17:42.425+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:17:42.491+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:17:42.492+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3524 ms
2025-11-12T10:17:46.698+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:17:46.709+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:17:46.713+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:17:46.717+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:17:46.719+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:17:46.720+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:17:46.722+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:17:46.724+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:17:46.725+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:17:47.132+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:17:47.160+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:17:47.659+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:17:47.664+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:17:52.675+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:17:52.676+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:17:52.677+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:17:52.677+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:17:52.686+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:17:52.686+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:17:52.687+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:17:52.687+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:17:52.688+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:17:52.689+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:17:52.689+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:17:52.763+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:17:52.777+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:17:55.142+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:17:55.144+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:17:55.145+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:17:56.292+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:17:56.295+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:17:56.360+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 0 Redis repository interfaces.
2025-11-12T10:17:56.568+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:17:56.587+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:17:58.080+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:17:58.112+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:17:58.116+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:17:58.214+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:17:58.216+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3007 ms
2025-11-12T10:18:02.566+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:18:02.567+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:18:02.568+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:18:02.570+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:18:02.572+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:18:02.573+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:18:02.576+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:18:02.578+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:18:02.580+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:18:02.944+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:18:02.970+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:18:03.446+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:18:03.451+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:18:08.461+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:18:08.462+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:18:08.463+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:18:08.464+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:18:08.475+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:18:08.476+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:18:08.477+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:18:08.478+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:18:08.478+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:18:08.479+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:18:08.480+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:18:08.568+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:18:08.591+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:18:11.936+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:18:11.942+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:18:11.945+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:18:14.091+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:18:14.098+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:18:14.170+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 0 Redis repository interfaces.
2025-11-12T10:18:14.411+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:18:14.430+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:18:15.467+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:18:15.490+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:18:15.491+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:18:15.546+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:18:15.547+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3478 ms
2025-11-12T10:18:18.760+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:18:18.764+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:18:18.769+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:18:18.771+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:18:18.774+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:18:18.775+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:18:18.776+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:18:18.777+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:18:18.777+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:18:19.179+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:18:19.194+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:18:19.509+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:18:19.513+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:18:24.521+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:18:24.522+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:18:24.523+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:18:24.523+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:18:24.536+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:18:24.537+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:18:24.537+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:18:24.538+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:18:24.538+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:18:24.539+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:18:24.540+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:18:24.682+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:18:24.768+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:18:28.494+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:18:28.498+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:18:28.501+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:18:30.065+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:18:30.069+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:18:30.118+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 29 ms. Found 0 Redis repository interfaces.
2025-11-12T10:18:30.265+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:18:30.276+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:18:31.078+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:18:31.100+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:18:31.101+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:18:31.158+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:18:31.160+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2531 ms
2025-11-12T10:18:35.414+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:18:35.416+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:18:35.418+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:18:35.420+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:18:35.422+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:18:35.424+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:18:35.426+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:18:35.427+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:18:35.428+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:18:35.824+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:18:35.843+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:18:36.190+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:18:36.194+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:18:41.204+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:18:41.205+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:18:41.205+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:18:41.206+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:18:41.215+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:18:41.216+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:18:41.216+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:18:41.217+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:18:41.218+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:18:41.218+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:18:41.218+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:18:41.290+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:18:41.306+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:18:43.602+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:18:43.604+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:18:43.606+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:18:44.650+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:18:44.656+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:18:44.722+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 34 ms. Found 0 Redis repository interfaces.
2025-11-12T10:18:44.920+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:18:44.933+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:18:45.833+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:18:45.853+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:18:45.855+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:18:45.905+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:18:45.906+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2241 ms
2025-11-12T10:18:49.515+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:18:49.518+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:18:49.521+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:18:49.522+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:18:49.523+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:18:49.524+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:18:49.526+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:18:49.527+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:18:49.528+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:18:49.922+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:18:49.942+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:18:50.432+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:18:50.437+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:18:55.449+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:18:55.451+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:18:55.452+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:18:55.453+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:18:55.480+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:18:55.482+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:18:55.483+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:18:55.487+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:18:55.488+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:18:55.491+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:18:55.492+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:18:55.717+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:18:55.758+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:18:58.410+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:18:58.413+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:18:58.415+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:18:59.802+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:18:59.806+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:18:59.866+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 35 ms. Found 0 Redis repository interfaces.
2025-11-12T10:19:00.042+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:19:00.057+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:19:00.882+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:19:00.916+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:19:00.919+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:19:00.979+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:19:00.981+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2464 ms
2025-11-12T10:19:04.365+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:19:04.368+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:19:04.370+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:19:04.372+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:19:04.373+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:19:04.374+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:19:04.377+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:19:04.378+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:19:04.380+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:19:04.758+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:19:04.780+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:19:05.242+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:19:05.245+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:19:10.254+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:19:10.255+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:19:10.256+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:19:10.256+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:19:10.267+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:19:10.268+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:19:10.269+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:19:10.269+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:19:10.270+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:19:10.270+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:19:10.271+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:19:10.357+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:19:10.376+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:19:13.335+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:19:13.338+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:19:13.342+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:19:15.973+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:19:15.979+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:19:16.065+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 0 Redis repository interfaces.
2025-11-12T10:19:16.311+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:19:16.329+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:19:17.752+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:19:17.785+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:19:17.789+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:19:17.857+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:19:17.862+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4390 ms
2025-11-12T10:19:21.608+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:19:21.610+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:19:21.612+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:19:21.613+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:19:21.615+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:19:21.616+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:19:21.617+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:19:21.618+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:19:21.620+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:19:21.991+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:19:22.017+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:19:22.405+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:19:22.408+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:19:27.416+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:19:27.417+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:19:27.418+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:19:27.419+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:19:27.429+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:19:27.430+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:19:27.431+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:19:27.431+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:19:27.432+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:19:27.432+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:19:27.433+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:19:27.516+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:19:27.533+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:19:30.426+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:19:30.437+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:19:30.441+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:19:32.514+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:19:32.522+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:19:32.604+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 51 ms. Found 0 Redis repository interfaces.
2025-11-12T10:19:32.865+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:19:32.886+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:19:33.965+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:19:33.992+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:19:33.994+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:19:34.066+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:19:34.067+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3493 ms
2025-11-12T10:19:37.892+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:19:37.904+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:19:37.907+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:19:37.910+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:19:37.911+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:19:37.913+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:19:37.914+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:19:37.915+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:19:37.920+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:19:38.308+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:19:38.332+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:19:38.711+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:19:38.714+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:19:43.720+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:19:43.721+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:19:43.721+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:19:43.722+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:19:43.731+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:19:43.733+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:19:43.733+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:19:43.734+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:19:43.735+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:19:43.735+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:19:43.736+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:19:43.808+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:19:43.822+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:19:46.220+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:19:46.223+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:19:46.226+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:19:47.479+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:19:47.485+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:19:47.547+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 35 ms. Found 0 Redis repository interfaces.
2025-11-12T10:19:47.744+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:19:47.757+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:19:48.500+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:19:48.520+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:19:48.521+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:19:48.568+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:19:48.570+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2275 ms
2025-11-12T10:19:52.269+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:19:52.273+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:19:52.275+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:19:52.277+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:19:52.278+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:19:52.279+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:19:52.280+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:19:52.282+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:19:52.283+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:19:52.657+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:19:52.674+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:19:52.975+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:19:52.977+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:19:57.985+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:19:57.986+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:19:57.987+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:19:57.987+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:19:57.996+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:19:57.996+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:19:57.997+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:19:57.998+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:19:57.998+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:19:57.999+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:19:57.999+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:19:58.068+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:19:58.089+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:20:01.178+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:20:01.190+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:20:01.195+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:20:03.066+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:20:03.069+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:20:03.126+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 33 ms. Found 0 Redis repository interfaces.
2025-11-12T10:20:03.283+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:20:03.297+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:20:04.024+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:20:04.050+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:20:04.052+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:20:04.103+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:20:04.106+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2806 ms
2025-11-12T10:20:08.008+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:20:08.011+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:20:08.014+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:20:08.016+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:20:08.017+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:20:08.018+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:20:08.019+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:20:08.020+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:20:08.021+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:20:08.385+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:20:08.403+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:20:08.731+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:20:08.734+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:20:13.740+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:20:13.741+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:20:13.741+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:20:13.742+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:20:13.752+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:20:13.753+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:20:13.754+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:20:13.754+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:20:13.754+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:20:13.755+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:20:13.755+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:20:13.832+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:20:13.848+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:20:16.471+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:20:16.479+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:20:16.483+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:20:17.782+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:20:17.786+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:20:17.854+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 0 Redis repository interfaces.
2025-11-12T10:20:18.030+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:20:18.046+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:20:18.845+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:20:18.863+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:20:18.864+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:20:18.918+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:20:18.919+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2324 ms
2025-11-12T10:20:22.841+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:20:22.846+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:20:22.849+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:20:22.851+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:20:22.852+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:20:22.852+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:20:22.853+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:20:22.854+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:20:22.855+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:20:23.224+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:20:23.241+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:20:23.547+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:20:23.550+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:20:28.557+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:20:28.558+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:20:28.559+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:20:28.559+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:20:28.568+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:20:28.569+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:20:28.570+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:20:28.570+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:20:28.571+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:20:28.571+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:20:28.572+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:20:28.636+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:20:28.655+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:20:31.004+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:20:31.007+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:20:31.009+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:20:31.869+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:20:31.872+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:20:31.923+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
2025-11-12T10:20:32.102+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:20:32.117+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:20:32.853+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:20:32.868+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:20:32.869+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:20:32.910+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:20:32.911+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1840 ms
2025-11-12T10:20:35.859+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:20:35.862+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:20:35.866+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:20:35.872+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:20:35.878+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:20:35.879+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:20:35.881+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:20:35.882+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:20:35.883+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:20:36.267+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:20:36.285+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:20:36.582+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:20:36.585+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:20:41.592+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:20:41.593+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:20:41.594+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:20:41.594+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:20:41.604+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:20:41.605+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:20:41.606+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:20:41.607+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:20:41.607+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:20:41.608+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:20:41.608+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:20:41.703+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:20:41.727+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:20:44.920+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:20:44.924+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:20:44.929+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:20:46.616+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:20:46.620+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:20:46.717+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 63 ms. Found 0 Redis repository interfaces.
2025-11-12T10:20:46.975+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:20:46.996+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:20:47.918+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:20:47.935+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:20:47.937+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:20:47.980+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:20:47.982+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2926 ms
2025-11-12T10:20:51.580+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:20:51.583+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:20:51.584+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:20:51.586+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:20:51.587+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:20:51.589+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:20:51.590+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:20:51.591+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:20:51.593+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:20:51.964+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:20:51.982+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:20:52.259+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:20:52.262+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:20:57.269+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:20:57.269+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:20:57.271+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:20:57.272+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:20:57.282+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:20:57.283+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:20:57.283+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:20:57.284+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:20:57.285+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:20:57.286+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:20:57.286+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:20:57.353+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:20:57.370+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:20:59.697+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:20:59.701+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:20:59.702+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:21:00.868+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:21:00.872+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:21:00.929+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 33 ms. Found 0 Redis repository interfaces.
2025-11-12T10:21:01.094+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:21:01.108+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:21:01.865+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:21:01.883+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:21:01.886+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:21:01.934+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:21:01.935+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2148 ms
2025-11-12T10:21:05.590+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:21:05.593+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:21:05.595+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:21:05.597+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:21:05.598+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:21:05.599+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:21:05.601+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:21:05.603+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:21:05.606+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:21:06.012+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:21:06.033+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:21:06.335+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:21:06.339+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:21:11.346+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:21:11.347+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:21:11.348+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:21:11.349+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:21:11.358+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:21:11.359+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:21:11.360+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:21:11.361+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:21:11.361+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:21:11.362+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:21:11.362+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:21:11.458+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:21:11.479+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:21:13.942+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:21:13.948+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:21:13.952+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:21:15.300+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:21:15.304+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:21:15.369+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 0 Redis repository interfaces.
2025-11-12T10:21:15.561+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:21:15.579+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:21:16.287+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:21:16.304+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:21:16.306+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:21:16.347+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:21:16.348+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2297 ms
2025-11-12T10:21:19.914+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:21:19.916+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:21:19.920+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:21:19.922+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:21:19.923+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:21:19.924+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:21:19.926+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:21:19.927+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:21:19.929+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:21:20.301+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:21:20.321+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:21:20.639+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:21:20.642+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:21:25.650+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:21:25.651+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:21:25.652+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:21:25.653+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:21:25.663+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:21:25.664+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:21:25.665+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:21:25.665+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:21:25.666+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:21:25.666+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:21:25.667+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:21:25.740+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:21:25.753+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:21:28.310+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:21:28.316+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:21:28.319+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:21:29.618+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:21:29.621+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:21:29.685+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 0 Redis repository interfaces.
2025-11-12T10:21:29.888+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:21:29.903+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:21:30.760+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:21:30.777+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:21:30.779+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:21:30.825+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:21:30.827+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2420 ms
2025-11-12T10:21:34.951+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:21:34.955+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:21:34.962+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:21:34.966+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:21:34.967+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:21:34.970+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:21:34.972+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:21:34.974+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:21:34.977+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:21:35.394+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:21:35.437+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:21:36.200+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:21:36.205+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:21:41.215+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:21:41.216+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:21:41.216+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:21:41.217+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:21:41.227+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:21:41.228+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:21:41.229+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:21:41.229+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:21:41.229+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:21:41.230+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:21:41.230+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:21:41.297+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:21:41.311+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:21:44.165+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:21:44.169+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:21:44.171+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:21:45.594+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:21:45.599+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:21:45.670+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 0 Redis repository interfaces.
2025-11-12T10:21:45.886+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:21:45.901+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:21:46.814+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:21:46.839+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:21:46.841+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:21:46.908+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:21:46.909+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2651 ms
2025-11-12T10:21:50.701+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:21:50.703+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:21:50.705+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:21:50.707+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:21:50.709+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:21:50.711+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:21:50.712+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:21:50.714+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:21:50.716+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:21:51.097+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:21:51.116+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:21:51.444+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:21:51.448+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:21:56.456+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:21:56.457+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:21:56.458+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:21:56.459+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:21:56.471+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:21:56.472+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:21:56.473+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:21:56.473+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:21:56.474+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:21:56.474+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:21:56.475+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:21:56.562+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:21:56.585+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:21:59.067+08:00  INFO 6 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 6 (/app/app.jar started by root in /app)
2025-11-12T10:21:59.071+08:00 DEBUG 6 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:21:59.073+08:00  INFO 6 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:22:00.367+08:00  INFO 6 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:22:00.371+08:00  INFO 6 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:22:00.425+08:00  INFO 6 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
2025-11-12T10:22:00.586+08:00  INFO 6 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:22:00.598+08:00  INFO 6 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:22:01.318+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:22:01.334+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:22:01.335+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:22:01.378+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:22:01.379+08:00  INFO 6 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2209 ms
2025-11-12T10:22:06.060+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:22:06.063+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:22:06.066+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:22:06.067+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:22:06.069+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:22:06.070+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:22:06.072+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:22:06.073+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:22:06.075+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:22:06.477+08:00  INFO 6 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:22:06.498+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:22:06.885+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:22:06.888+08:00  INFO 6 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:22:11.896+08:00  INFO 6 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:22:11.897+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:22:11.898+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:22:11.899+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:22:11.909+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:22:11.910+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:22:11.910+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:22:11.911+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:22:11.912+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:22:11.912+08:00  INFO 6 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:22:11.913+08:00  WARN 6 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:22:12.011+08:00  INFO 6 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:22:12.038+08:00 ERROR 6 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:22:14.784+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:22:14.787+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:22:14.789+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:22:16.060+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:22:16.066+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:22:16.130+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 0 Redis repository interfaces.
2025-11-12T10:22:16.329+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:22:16.345+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:22:17.183+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:22:17.204+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:22:17.206+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:22:17.261+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:22:17.263+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2395 ms
2025-11-12T10:22:21.852+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:22:21.854+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:22:21.857+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:22:21.860+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:22:21.861+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:22:21.862+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:22:21.863+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:22:21.864+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:22:21.866+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:22:22.248+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:22:22.271+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:22:22.604+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:22:22.608+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:22:27.615+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:22:27.616+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:22:27.616+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:22:27.617+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:22:27.627+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:22:27.627+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:22:27.628+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:22:27.629+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:22:27.631+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:22:27.632+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:22:27.634+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:22:27.718+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:22:27.732+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:22:31.637+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:22:31.643+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:22:31.647+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:22:33.652+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:22:33.657+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:22:33.732+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 0 Redis repository interfaces.
2025-11-12T10:22:34.027+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:22:34.055+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:22:35.014+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:22:35.032+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:22:35.034+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:22:35.077+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:22:35.078+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3313 ms
2025-11-12T10:22:37.946+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:22:37.951+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:22:37.955+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:22:37.958+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:22:37.960+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:22:37.961+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:22:37.962+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:22:37.963+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:22:37.964+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:22:38.353+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:22:38.372+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:22:38.683+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:22:38.686+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:22:43.693+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:22:43.694+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:22:43.694+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:22:43.695+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:22:43.704+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:22:43.705+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:22:43.706+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:22:43.706+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:22:43.707+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:22:43.707+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:22:43.708+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:22:43.784+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:22:43.798+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:22:46.356+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:22:46.361+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:22:46.364+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:22:48.032+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:22:48.036+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:22:48.137+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 68 ms. Found 0 Redis repository interfaces.
2025-11-12T10:22:48.627+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:22:48.660+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:22:50.142+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:22:50.174+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:22:50.177+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:22:50.275+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:22:50.277+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3822 ms
2025-11-12T10:22:54.953+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:22:54.956+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:22:54.958+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:22:54.960+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:22:54.961+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:22:54.963+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:22:54.965+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:22:54.966+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:22:54.968+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:22:55.359+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:22:55.384+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:22:55.808+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:22:55.811+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:23:00.820+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:23:00.821+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:23:00.821+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:23:00.822+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:23:00.831+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:23:00.832+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:23:00.832+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:23:00.833+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:23:00.833+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:23:00.834+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:23:00.834+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:23:00.922+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:23:00.942+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:23:03.415+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:23:03.420+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:23:03.422+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:23:04.289+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:23:04.292+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:23:04.331+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2025-11-12T10:23:04.473+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:23:04.483+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:23:05.064+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:23:05.079+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:23:05.081+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:23:05.120+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:23:05.121+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1648 ms
2025-11-12T10:23:07.304+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:23:07.307+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:23:07.308+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:23:07.309+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:23:07.310+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:23:07.311+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:23:07.312+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:23:07.312+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:23:07.313+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:23:07.667+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:23:07.683+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:23:07.923+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:23:07.926+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:23:12.933+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:23:12.933+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:23:12.934+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:23:12.934+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:23:12.943+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:23:12.943+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:23:12.944+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:23:12.945+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:23:12.945+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:23:12.945+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:23:12.946+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:23:13.018+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:23:13.033+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:23:15.465+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:23:15.469+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:23:15.471+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:23:16.418+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:23:16.421+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:23:16.466+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
2025-11-12T10:23:16.619+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:23:16.629+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:23:17.285+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:23:17.306+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:23:17.308+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:23:17.346+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:23:17.347+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1804 ms
2025-11-12T10:23:19.794+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:23:19.798+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:23:19.801+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:23:19.802+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:23:19.803+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:23:19.804+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:23:19.805+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:23:19.806+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:23:19.807+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:23:20.155+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:23:20.171+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:23:20.409+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:23:20.411+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:23:25.418+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:23:25.419+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:23:25.420+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:23:25.420+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:23:25.437+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:23:25.437+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:23:25.438+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:23:25.439+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:23:25.441+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:23:25.442+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:23:25.442+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:23:25.538+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:23:25.558+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:23:28.037+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:23:28.040+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:23:28.042+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:23:28.903+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:23:28.907+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:23:28.948+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2025-11-12T10:23:29.085+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:23:29.097+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:23:29.640+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:23:29.654+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:23:29.655+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:23:29.690+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:23:29.692+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1593 ms
2025-11-12T10:23:32.092+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:23:32.094+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:23:32.095+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:23:32.096+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:23:32.097+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:23:32.099+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:23:32.100+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:23:32.101+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:23:32.102+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:23:32.444+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:23:32.460+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:23:32.683+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:23:32.685+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:23:37.692+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:23:37.693+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:23:37.693+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:23:37.694+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:23:37.701+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:23:37.702+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:23:37.703+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:23:37.703+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:23:37.704+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:23:37.705+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:23:37.705+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:23:37.784+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:23:37.799+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:23:40.243+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:23:40.248+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:23:40.250+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:23:41.797+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:23:41.802+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:23:41.854+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 30 ms. Found 0 Redis repository interfaces.
2025-11-12T10:23:42.006+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:23:42.017+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:23:42.595+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:23:42.614+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:23:42.615+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:23:42.654+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:23:42.655+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2335 ms
2025-11-12T10:23:45.439+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:23:45.440+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:23:45.443+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:23:45.445+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:23:45.446+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:23:45.447+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:23:45.448+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:23:45.449+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:23:45.451+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:23:45.817+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:23:45.829+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:23:46.068+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:23:46.071+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:23:51.079+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:23:51.080+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:23:51.081+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:23:51.082+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:23:51.106+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:23:51.107+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:23:51.108+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:23:51.109+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:23:51.110+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:23:51.111+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:23:51.112+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:23:51.312+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:23:51.341+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:23:54.416+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:23:54.422+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:23:54.427+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-12T10:23:55.875+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-12T10:23:55.884+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-12T10:23:55.997+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 66 ms. Found 0 Redis repository interfaces.
2025-11-12T10:23:56.243+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-11-12T10:23:56.254+08:00  INFO 7 --- [TEST-ENV-VAR] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-11-12T10:23:56.874+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-12T10:23:56.889+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-12T10:23:56.890+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-11-12T10:23:56.925+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-12T10:23:56.927+08:00  INFO 7 --- [TEST-ENV-VAR] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2415 ms
2025-11-12T10:24:00.223+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:24:00.226+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 1 subscriber(s).
2025-11-12T10:24:00.228+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-11-12T10:24:00.229+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:24:00.231+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 1 subscriber(s).
2025-11-12T10:24:00.232+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttOutbound.serviceActivator'
2025-11-12T10:24:00.234+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:24:00.235+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 1 subscriber(s).
2025-11-12T10:24:00.237+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:24:00.621+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : started bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:24:00.646+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-12T10:24:01.012+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12T10:24:01.014+08:00  INFO 7 --- [TEST-ENV-VAR] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-12T10:24:06.022+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .m.i.MqttPahoMessageDrivenChannelAdapter : stopped bean 'inbound'; defined in: 'class path resource [com/wms/wmdrfid/Conf/MqttConf/MqttConfig.class]'; from source: 'com.wms.wmdrfid.Conf.MqttConf.MqttConfig.inbound()'
2025-11-12T10:24:06.023+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-11-12T10:24:06.024+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttOutboundChannel' has 0 subscriber(s).
2025-11-12T10:24:06.025+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttOutbound.serviceActivator'
2025-11-12T10:24:06.035+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:mqttMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-11-12T10:24:06.036+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.integration.channel.DirectChannel    : Channel 'TEST-ENV-VAR.mqttInputChannel' has 0 subscriber(s).
2025-11-12T10:24:06.037+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'mqttMessageHandler.handleMessage.serviceActivator'
2025-11-12T10:24:06.037+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-11-12T10:24:06.038+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'TEST-ENV-VAR.errorChannel' has 0 subscriber(s).
2025-11-12T10:24:06.038+08:00  INFO 7 --- [TEST-ENV-VAR] [main] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-11-12T10:24:06.039+08:00  WARN 7 --- [TEST-ENV-VAR] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
2025-11-12T10:24:06.119+08:00  INFO 7 --- [TEST-ENV-VAR] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12T10:24:06.133+08:00 ERROR 7 --- [TEST-ENV-VAR] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'redisMessageListenerContainer'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:326) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510) ~[spring-context-6.2.1.jar!/:6.2.1]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.1.jar!/:6.2.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.1.jar!/:3.4.1]
	at com.wms.wmdrfid.WmdRfidApplication.main(WmdRfidApplication.java:13) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[app.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[app.jar:0.0.1-SNAPSHOT]
Caused by: org.springframework.data.redis.listener.adapter.RedisListenerExecutionFailedException: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:383) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.start(RedisMessageListenerContainer.java:361) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323) ~[spring-context-6.2.1.jar!/:6.2.1]
	... 20 common frames omitted
Caused by: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1858) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1789) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1586) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1566) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1527) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1563) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1249) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1055) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.lambda$initialize$0(RedisMessageListenerContainer.java:1241) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doInLock(RedisMessageListenerContainer.java:1455) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.initialize(RedisMessageListenerContainer.java:1235) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.doSubscribe(RedisMessageListenerContainer.java:428) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:404) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.listener.RedisMessageListenerContainer.lazyListen(RedisMessageListenerContainer.java:374) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 22 common frames omitted
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6479
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:219) ~[lettuce-core-6.4.1.RELEASE.jar!/:6.4.1.RELEASE/08096cf]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1787) ~[spring-data-redis-3.4.1.jar!/:3.4.1]
	... 34 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:6479
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.116.Final.jar!/:4.1.116.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-11-12T10:24:08.599+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Starting WmdRfidApplication v0.0.1-SNAPSHOT using Java 17.0.2 with PID 7 (/app/app.jar started by root in /app)
2025-11-12T10:24:08.602+08:00 DEBUG 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : Running with Spring Boot v3.4.1, Spring v6.2.1
2025-11-12T10:24:08.605+08:00  INFO 7 --- [TEST-ENV-VAR] [main] com.wms.wmdrfid.WmdRfidApplication       : No active profile set, falling back to 1 default profile: "default"
